
<!DOCTYPE html>
<html>
<head><meta charset="utf-8"><title>ModelArchitecture</title></head>
<body>
<div id="root"><div style="font-family:Arial, sans-serif;padding:20px;max-width:100%;background-color:#f9f9f9;border-radius:8px;border:1px solid #e0e0e0"><h2 style="color:#333;margin-bottom:20px">XGBoost Model Architecture</h2><div style="background-color:white;padding:15px;border-radius:8px;box-shadow:0 2px 4px rgba(0,0,0,0.1);margin-bottom:20px;border:1px solid #e0e0e0"><h3 style="border-bottom:2px solid #4a90e2;padding-bottom:8px;margin-bottom:15px;color:#4a90e2;font-weight:bold">Model Configuration</h3><p>The XGBoost classifier is configured with the following parameters:</p><table style="width:100%;border-collapse:collapse;margin-top:15px;font-size:14px"><thead><tr><th style="background-color:#f5f5f5;padding:10px;align:left;border-bottom:1px solid #ddd;font-weight:bold">Parameter</th><th style="background-color:#f5f5f5;padding:10px;align:left;border-bottom:1px solid #ddd;font-weight:bold">Value</th><th style="background-color:#f5f5f5;padding:10px;align:left;border-bottom:1px solid #ddd;font-weight:bold">Trading Significance</th></tr></thead><tbody><tr><td style="padding:10px;border-bottom:1px solid #ddd"><span style="font-family:monospace;background-color:#f5f5f5;padding:2px 4px;border-radius:3px;font-size:13px">max_depth</span></td><td style="padding:10px;border-bottom:1px solid #ddd">4</td><td style="padding:10px;border-bottom:1px solid #ddd">Moderate tree depth balances detail capture and generalization</td></tr><tr><td style="padding:10px;border-bottom:1px solid #ddd"><span style="font-family:monospace;background-color:#f5f5f5;padding:2px 4px;border-radius:3px;font-size:13px">learning_rate</span></td><td style="padding:10px;border-bottom:1px solid #ddd">0.03</td><td style="padding:10px;border-bottom:1px solid #ddd">Low learning rate provides more stable predictions as market conditions evolve</td></tr><tr><td style="padding:10px;border-bottom:1px solid #ddd"><span style="font-family:monospace;background-color:#f5f5f5;padding:2px 4px;border-radius:3px;font-size:13px">n_estimators</span></td><td style="padding:10px;border-bottom:1px solid #ddd">250</td><td style="padding:10px;border-bottom:1px solid #ddd">Sufficient number of trees to capture market relationships without overfitting</td></tr><tr><td style="padding:10px;border-bottom:1px solid #ddd"><span style="font-family:monospace;background-color:#f5f5f5;padding:2px 4px;border-radius:3px;font-size:13px">eval_metric</span></td><td style="padding:10px;border-bottom:1px solid #ddd">&#x27;error@0.5&#x27;</td><td style="padding:10px;border-bottom:1px solid #ddd">Optimized for error rate at 0.5 threshold, balanced for trading decisions</td></tr><tr><td style="padding:10px;border-bottom:1px solid #ddd"><span style="font-family:monospace;background-color:#f5f5f5;padding:2px 4px;border-radius:3px;font-size:13px">min_child_weight</span></td><td style="padding:10px;border-bottom:1px solid #ddd">8</td><td style="padding:10px;border-bottom:1px solid #ddd">Controls model complexity and reduces overfitting to market noise</td></tr><tr><td style="padding:10px;border-bottom:1px solid #ddd"><span style="font-family:monospace;background-color:#f5f5f5;padding:2px 4px;border-radius:3px;font-size:13px">gamma</span></td><td style="padding:10px;border-bottom:1px solid #ddd">0.2</td><td style="padding:10px;border-bottom:1px solid #ddd">Minimum loss reduction required for further tree partitioning, prevents capturing random market fluctuations</td></tr><tr><td style="padding:10px;border-bottom:1px solid #ddd"><span style="font-family:monospace;background-color:#f5f5f5;padding:2px 4px;border-radius:3px;font-size:13px">subsample</span></td><td style="padding:10px;border-bottom:1px solid #ddd">1.0</td><td style="padding:10px;border-bottom:1px solid #ddd">Uses all training data for each tree, maximizing information capture in this case</td></tr><tr><td style="padding:10px;border-bottom:1px solid #ddd"><span style="font-family:monospace;background-color:#f5f5f5;padding:2px 4px;border-radius:3px;font-size:13px">colsample_bytree</span></td><td style="padding:10px;border-bottom:1px solid #ddd">0.8</td><td style="padding:10px;border-bottom:1px solid #ddd">Each tree considers 80% of features, reducing overfitting to specific market signals</td></tr><tr><td style="padding:10px;border-bottom:1px solid #ddd"><span style="font-family:monospace;background-color:#f5f5f5;padding:2px 4px;border-radius:3px;font-size:13px">reg_alpha</span></td><td style="padding:10px;border-bottom:1px solid #ddd">0.2</td><td style="padding:10px;border-bottom:1px solid #ddd">L1 regularization controls model sparsity, focusing on most significant market factors</td></tr><tr><td style="padding:10px;border-bottom:1px solid #ddd"><span style="font-family:monospace;background-color:#f5f5f5;padding:2px 4px;border-radius:3px;font-size:13px">reg_lambda</span></td><td style="padding:10px;border-bottom:1px solid #ddd">2</td><td style="padding:10px;border-bottom:1px solid #ddd">L2 regularization prevents individual features from dominating prediction, improving stability</td></tr></tbody></table></div><div style="background-color:white;padding:15px;border-radius:8px;box-shadow:0 2px 4px rgba(0,0,0,0.1);margin-bottom:20px;border:1px solid #e0e0e0"><h3 style="border-bottom:2px solid #4a90e2;padding-bottom:8px;margin-bottom:15px;color:#4a90e2;font-weight:bold">Tree Structure Visualization</h3><p>XGBoost uses an ensemble of gradient boosted decision trees. Each tree contributes to the final prediction, with later trees focusing on correcting errors made by earlier ones.</p><div style="display:flex;flex-direction:column;align-items:center;padding:20px 0"><div style="display:flex;justify-content:center;gap:20px;margin-top:20px;flex-wrap:wrap"><div style="width:180px;display:flex;flex-direction:column;align-items:center;border:1px solid #ddd;border-radius:8px;padding:10px;background-color:#f5f9ff"><div style="font-weight:bold;margin-bottom:10px;font-size:14px">Tree 1</div><div style="width:140px;height:40px;background-color:#4a90e2;color:white;display:flex;align-items:center;justify-content:center;border-radius:5px;font-size:12px;position:relative;margin:5px 0">ticksFromSupportLevel<br/>&lt; 6.5 ?</div><div style="width:2px;height:15px;background-color:#4a90e2;margin:0 auto"></div><div style="width:140px;height:40px;background-color:#4a90e2;color:white;display:flex;align-items:center;justify-content:center;border-radius:5px;font-size:12px;position:relative;margin:5px 0">sameSideImbalance<br/>&lt; 0.63 ?</div><div style="width:2px;height:15px;background-color:#4a90e2;margin:0 auto"></div><div style="display:flex;justify-content:space-around;width:100%"><div style="width:60px;height:30px;background-color:#56b45d;color:white;display:flex;align-items:center;justify-content:center;border-radius:5px;font-size:12px">0.23</div><div style="width:60px;height:30px;background-color:#56b45d;color:white;display:flex;align-items:center;justify-content:center;border-radius:5px;font-size:12px">0.78</div></div></div><div style="width:180px;display:flex;flex-direction:column;align-items:center;border:1px solid #ddd;border-radius:8px;padding:10px;background-color:#f5f9ff"><div style="font-weight:bold;margin-bottom:10px;font-size:14px">Tree 2</div><div style="width:140px;height:40px;background-color:#4a90e2;color:white;display:flex;align-items:center;justify-content:center;border-radius:5px;font-size:12px;position:relative;margin:5px 0">fillToDisplayRatio<br/>&lt; 12.5 ?</div><div style="width:2px;height:15px;background-color:#4a90e2;margin:0 auto"></div><div style="width:140px;height:40px;background-color:#4a90e2;color:white;display:flex;align-items:center;justify-content:center;border-radius:5px;font-size:12px;position:relative;margin:5px 0">ticksFromResistance<br/>&lt; 8.2 ?</div><div style="width:2px;height:15px;background-color:#4a90e2;margin:0 auto"></div><div style="display:flex;justify-content:space-around;width:100%"><div style="width:60px;height:30px;background-color:#56b45d;color:white;display:flex;align-items:center;justify-content:center;border-radius:5px;font-size:12px">-0.12</div><div style="width:60px;height:30px;background-color:#56b45d;color:white;display:flex;align-items:center;justify-content:center;border-radius:5px;font-size:12px">0.41</div></div></div><div style="width:180px;display:flex;flex-direction:column;align-items:center;border:1px solid #ddd;border-radius:8px;padding:10px;background-color:#f5f9ff"><div style="font-weight:bold;margin-bottom:10px;font-size:14px">Tree 3</div><div style="width:140px;height:40px;background-color:#4a90e2;color:white;display:flex;align-items:center;justify-content:center;border-radius:5px;font-size:12px;position:relative;margin:5px 0">90sec_tradeImbalance<br/>&lt; 0.52 ?</div><div style="width:2px;height:15px;background-color:#4a90e2;margin:0 auto"></div><div style="width:140px;height:40px;background-color:#4a90e2;color:white;display:flex;align-items:center;justify-content:center;border-radius:5px;font-size:12px;position:relative;margin:5px 0">leanOverHedgeRatio<br/>&lt; 0.83 ?</div><div style="width:2px;height:15px;background-color:#4a90e2;margin:0 auto"></div><div style="display:flex;justify-content:space-around;width:100%"><div style="width:60px;height:30px;background-color:#56b45d;color:white;display:flex;align-items:center;justify-content:center;border-radius:5px;font-size:12px">-0.09</div><div style="width:60px;height:30px;background-color:#56b45d;color:white;display:flex;align-items:center;justify-content:center;border-radius:5px;font-size:12px">0.32</div></div></div><div style="width:180px;display:flex;flex-direction:column;align-items:center;border:1px solid #ddd;border-radius:8px;padding:10px;background-color:#f5f9ff"><div style="font-weight:bold;margin-bottom:10px;font-size:14px">Tree N (of 250)</div><div style="width:140px;height:40px;background-color:#4a90e2;color:white;display:flex;align-items:center;justify-content:center;border-radius:5px;font-size:12px;position:relative;margin:5px 0">firstNoticeDays<br/>&lt; 21.5 ?</div><div style="width:2px;height:15px;background-color:#4a90e2;margin:0 auto"></div><div style="width:140px;height:40px;background-color:#4a90e2;color:white;display:flex;align-items:center;justify-content:center;border-radius:5px;font-size:12px;position:relative;margin:5px 0">nReloads<br/>&lt; 10.5 ?</div><div style="width:2px;height:15px;background-color:#4a90e2;margin:0 auto"></div><div style="display:flex;justify-content:space-around;width:100%"><div style="width:60px;height:30px;background-color:#56b45d;color:white;display:flex;align-items:center;justify-content:center;border-radius:5px;font-size:12px">0.05</div><div style="width:60px;height:30px;background-color:#56b45d;color:white;display:flex;align-items:center;justify-content:center;border-radius:5px;font-size:12px">-0.03</div></div></div></div><div style="font-size:14px;color:#666;font-style:italic;margin-top:15px;padding:10px;background-color:#f5f5f5;border-radius:5px">Tree diagrams are simplified representations. Actual trees may have more complex branching structures. Each leaf node contains a prediction value that contributes to the final ensemble prediction.</div></div></div><div style="background-color:white;padding:15px;border-radius:8px;box-shadow:0 2px 4px rgba(0,0,0,0.1);margin-bottom:20px;border:1px solid #e0e0e0"><h3 style="border-bottom:2px solid #4a90e2;padding-bottom:8px;margin-bottom:15px;color:#4a90e2;font-weight:bold">Prediction Flow</h3><p>When making a prediction for a new iceberg order, the model processes it through these steps:</p><div style="display:flex;align-items:center;margin:10px 0"><div style="flex:1;padding:10px;border:1px solid #ddd;border-radius:5px;background-color:white;font-size:14px"><strong>1. Feature Vector Construction</strong><p>Raw order data is transformed into engineered features</p><div style="font-family:monospace;padding:10px;background-color:#f0f8ff;border-radius:5px;margin-top:10px;font-size:14px;overflow-x:auto;white-space:nowrap">[ticksFromSupportLevel=5.0, ticksFromResistanceLevel=12.0, fillToDisplayRatio=14.0, sameSideImbalance=0.73, tradeImbalance90s=0.62, leanOverHedgeRatio=0.75, ...]</div></div></div><div style="font-size:24px;color:#4a90e2" align="center">↓</div><div style="display:flex;align-items:center;margin:10px 0"><div style="flex:1;padding:10px;border:1px solid #ddd;border-radius:5px;background-color:white;font-size:14px"><strong>2. Feature Scaling</strong><p>Features are normalized using the stored scaling parameters</p><div style="font-family:monospace;padding:10px;background-color:#f0f8ff;border-radius:5px;margin-top:10px;font-size:14px;overflow-x:auto;white-space:nowrap">[ticksFromSupportLevel=0.37, ticksFromResistanceLevel=0.76, fillToDisplayRatio=1.28, sameSideImbalance=0.91, tradeImbalance90s=0.44, leanOverHedgeRatio=0.58, ...]</div></div></div><div style="font-size:24px;color:#4a90e2" align="center">↓</div><div style="display:flex;align-items:center;margin:10px 0"><div style="flex:1;padding:10px;border:1px solid #ddd;border-radius:5px;background-color:white;font-size:14px"><strong>3. Tree Ensemble Processing</strong><p>The feature vector passes through all 250 decision trees</p><div><ul style="margin:5px 0;padding-left:20px"><li>Tree 1 Output: 0.78</li><li>Tree 2 Output: 0.41</li><li>Tree 3 Output: 0.32</li><li>...</li><li>Tree 250 Output: -0.03</li></ul></div></div></div><div style="font-size:24px;color:#4a90e2" align="center">↓</div><div style="display:flex;align-items:center;margin:10px 0"><div style="flex:1;padding:10px;border:1px solid #ddd;border-radius:5px;background-color:white;font-size:14px"><strong>4. Prediction Combination</strong><p>Tree outputs are combined and transformed to a probability</p><div><p>Sum of tree outputs (weighted by learning rate): 1.25</p><p>Logistic transformation: <span style="font-family:monospace;background-color:#f5f5f5;padding:2px 4px;border-radius:3px;font-size:13px">sigmoid(1.25) = 0.778</span></p><p>Final prediction: <span style="background-color:#fffacd;padding:2px 4px;border-radius:3px">77.8% probability of execution</span></p></div></div></div><div style="font-size:14px;color:#666;font-style:italic;margin-top:15px;padding:10px;background-color:#f5f5f5;border-radius:5px"><strong>Trading Insight:</strong> The model produces a probability of execution rather than just a binary yes/no. This probability can be used to prioritize trading opportunities, size positions dynamically, or adjust trading strategies based on confidence levels.</div></div><div style="background-color:white;padding:15px;border-radius:8px;box-shadow:0 2px 4px rgba(0,0,0,0.1);margin-bottom:20px;border:1px solid #e0e0e0"><h3 style="border-bottom:2px solid #4a90e2;padding-bottom:8px;margin-bottom:15px;color:#4a90e2;font-weight:bold">Model Advantages for Trading Applications</h3><table style="width:100%;border-collapse:collapse;margin-top:15px;font-size:14px"><thead><tr><th style="background-color:#f5f5f5;padding:10px;align:left;border-bottom:1px solid #ddd;font-weight:bold">Advantage</th><th style="background-color:#f5f5f5;padding:10px;align:left;border-bottom:1px solid #ddd;font-weight:bold">Description</th><th style="background-color:#f5f5f5;padding:10px;align:left;border-bottom:1px solid #ddd;font-weight:bold">Trading Application</th></tr></thead><tbody><tr><td style="padding:10px;border-bottom:1px solid #ddd">Non-Linear Relationships</td><td style="padding:10px;border-bottom:1px solid #ddd">Captures complex, non-linear interactions between market variables</td><td style="padding:10px;border-bottom:1px solid #ddd">Better models tipping points and threshold effects in market behavior</td></tr><tr><td style="padding:10px;border-bottom:1px solid #ddd">Robust to Feature Scaling</td><td style="padding:10px;border-bottom:1px solid #ddd">Tree-based models are less sensitive to feature scaling than neural networks</td><td style="padding:10px;border-bottom:1px solid #ddd">More stable in production when market metrics have unusual ranges</td></tr><tr><td style="padding:10px;border-bottom:1px solid #ddd">Handles Missing Values</td><td style="padding:10px;border-bottom:1px solid #ddd">XGBoost can handle missing values in features</td><td style="padding:10px;border-bottom:1px solid #ddd">Resilient against data quality issues in live market feeds</td></tr><tr><td style="padding:10px;border-bottom:1px solid #ddd">Interpretable Structure</td><td style="padding:10px;border-bottom:1px solid #ddd">Individual trees can be examined for trading logic</td><td style="padding:10px;border-bottom:1px solid #ddd">Easier to explain to regulatory bodies and trading strategy committees</td></tr><tr><td style="padding:10px;border-bottom:1px solid #ddd">Fast Inference</td><td style="padding:10px;border-bottom:1px solid #ddd">Tree traversal is computationally efficient</td><td style="padding:10px;border-bottom:1px solid #ddd">Low latency prediction suitable for high-frequency trading systems</td></tr><tr><td style="padding:10px;border-bottom:1px solid #ddd">Built-in Regularization</td><td style="padding:10px;border-bottom:1px solid #ddd">Prevents overfitting to market noise</td><td style="padding:10px;border-bottom:1px solid #ddd">More stable performance across changing market regimes</td></tr></tbody></table></div></div></div>
</body>
</html>